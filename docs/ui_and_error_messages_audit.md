# UI & Error Messages Audit

**Version:** MVP (apps/web-mvp)
**Target Audience:** Adults with limited language capabilities (requires clarity, calm, support).

## 1. User-Facing UI States (Frontend)

These messages appear directly in the React application (`apps/web-mvp`).

### ‚úÖ Success & Confirmation
| Context | Message (EN / DE) | UI Behavior | Status |
| :--- | :--- | :--- | :--- |
| **Copy Text** | "Text copied!" / "Text kopiert!" | Button icon changes to checkmark for 2s. | ‚úÖ Clear & direct. |
| **Simpification** | (No text) | Automatically transitions/scrolls to "Output" section. | ‚úÖ Flow-based confirmation works well. |

### ‚è≥ Loading & Processing
| Context | Message (EN / DE) | UI Behavior | Status |
| :--- | :--- | :--- | :--- |
| **PDF Upload** | "Working on it..." / "Wird verarbeitet..." | Spinner icon replaces file icon. | ‚úÖ Clear. |
| **Simplifying** | "Working on it..." / "Wird verarbeitet..." | Button disabled with spinner. | ‚úÖ Good usage of "Working on it" over "Loading". |
| **Auth** | "Verifying..." / "Wird gepr√ºft..." | Button disabled with spinner. | ‚úÖ Standard. |

### ‚ö†Ô∏è Error States (Inline)
Errors generally appear in a red box (`bg-destructive/10`) within the active card.

| Context | Error Message (EN / DE) | Trigger | Notes |
| :--- | :--- | :--- | :--- |
| **PDF Upload** | "Could not read the PDF file" / "Die PDF-Datei konnte nicht gelesen werden" | Invalid PDF type or backend error. | ‚ö†Ô∏è Generic. Doesn't say *why* (e.g., password protected). |
| **Simplification** | "Something went wrong. Please try again." / "Etwas ist schiefgelaufen..." | API 500/400 errors. | ‚ö†Ô∏è Very generic. Could be discouraging. |
| **Auth** | "Invalid password" / "Falsches Passwort" | Wrong password entered. | ‚úÖ Clear. |
| **Auth** | "Failed to connect to server" / "Verbindung zum Server fehlgeschlagen" | Network/API down. | ‚úÖ Clear. |

### ‚ÑπÔ∏è Empty States
| Context | Message | UI Behavior | Status |
| :--- | :--- | :--- | :--- |
| **Output Section** | "Read or hear what the text says..." / "(Waiting for text)" | Greyed out placeholder box. | ‚ö†Ô∏è "(Waiting for text)" is a bit technical/dev-speak. |

---

## 2. Backend Error Messages (API)

These messages are generated by `services/api` and may separate from the frontend's generic catch-all errors.

### üî¥ Critical Failures (HTTP 400/500)
*Currently, the frontend often masks these with the generic "Something went wrong" message, but the API sends specific details:*

*   **PDF Too Large:** "PDF file too large. Max size is 10MB, got X MB"
*   **Empty PDF:** "Uploaded file is empty"
*   **Not a PDF:** "File must be a PDF"
*   **Password Protected:** "PDF is password-protected. Please provide an unencrypted PDF."
*   **No Text Found:** "No text could be extracted from PDF. It may be image-only or corrupted."
*   **Template Error:** "Template error: ..."

### ‚ö†Ô∏è Warnings (Non-blocking)
The API returns a `warnings` list (e.g., `["page_3_appears_to_be_image_only"]`), but **the frontend currently does not display these warnings**.
*   `page_X_appears_to_be_image_only`
*   `document_is_very_long`
*   `extraction_may_be_incomplete`

---

## 3. Gap Analysis & Recommendations

### üö® Priority Fixes
1.  **Hidden Specific Errors:** The API sends helpful messages (e.g., "PDF is password protected"), but the frontend displays the generic "Could not read the PDF file".
    *   *Recommendation:* Update frontend `handleFileUpload` to display `data.detail` from the API response if available, falling back to the generic message only if needed.
2.  **Silent Warnings:** If a PDF is image-only, the API warns about it, but the user just sees empty/garbled text without explanation.
    *   *Recommendation:* Add a yellow "Notice" box in the Input card if `warnings` array is present in the API response.

### ‚úçÔ∏è Copy Improvements
1.  **Scanning/Image PDFs:** Users often upload scanned letters. The error "No text could be extracted" is accurate but technical.
    *   *Suggestion:* "We couldn't read the text in this file. It might be a picture/scan. Please try a different file."
2.  **Waiting State:** Replace "(Waiting for text)" in the Output placeholder.
    *   *Suggestion:* "Your simplified text will appear here."

### üîç Missing Feedback States
*   **TTS Loading:** When "Read Aloud" is clicked, there is a delay before audio starts. There is no spinner or "Loading audio..." state on the button currently.
*   **Upload Progress:** No progress bar for large PDFs, just a spinner.

